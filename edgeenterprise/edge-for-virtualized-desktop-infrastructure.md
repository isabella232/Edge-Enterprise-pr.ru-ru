---
title: Microsoft Edge для инфраструктуры виртуальных настольных компьютеров (VDI)
ms.author: anlake
author: dan-wesley
manager: collw
ms.date: 11/12/2021
audience: ITPro
ms.topic: conceptual
ms.prod: microsoft-edge
ms.localizationpriority: medium
ms.collection: M365-modern-desktop
description: Microsoft Edge для виртуальной инфраструктуры настольных компьютеров (VDI).
ms.openlocfilehash: fe1c1a7acf0b514812ff0aaf8f7a2b307304657d
ms.sourcegitcommit: e7f3098d8b7d91cae20b5778a71a87daababc312
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2022
ms.locfileid: "12298137"
---
# <a name="microsoft-edge-for-virtual-desktop-infrastructure-vdi"></a>Microsoft Edge для инфраструктуры виртуальных настольных компьютеров (VDI)

В этой статье описываются требования и ограничения для использования Microsoft Edge в виртуальной среде.

## <a name="what-is-vdi"></a>Что такое VDI?

Виртуальная инфраструктура настольных компьютеров (VDI) — это технология виртуализации настольных компьютеров, на котором размещены операционная система и приложения на централизованном сервере центра обработки данных. Эта технология позволяет полностью персонализировать рабочий стол для пользователей на безопасном и совместимом централизованном источнике.

Microsoft Edge можно использовать в виртуальной среде так же, как и на локальном устройстве. Виртуальный рабочий стол может использовать безопасную и контролируемую серверную среду. В зависимости от решения VDI можно также предоставить пользователям беспрепятственно доступ к приложениям и сайтам интрасети.

Большинство Microsoft Edge поддерживаются в средах VDI без какой-либо особой конфигурации. Однако для обеспечения оптимального опыта рекомендуется просмотреть следующие рекомендации.

## <a name="platforms-certified-for-microsoft-edge"></a>Платформы, сертифицированные для Microsoft Edge

Следующие платформы сертифицированы для Microsoft Edge:

- Виртуальный рабочий стол Azure
- Виртуальные приложения и рабочие столы Citrix (ранее известные как XenApp и XenDesktop)

Хотя другие решения VDI еще не сертифицированы Microsoft Edge, ожидается, что наиболее распространенные процессы в Microsoft Edge должны поддерживаться. Следующие рекомендации могут быть применимы или не применимы к выбранному решению.

## <a name="performance-considerations-for-microsoft-edge-on-vdi"></a>Соображения производительности для Microsoft Edge VDI

При разработке среды VDI необходимо тщательно учитывать рабочий процесс и потребности пользователей для достижения оптимальной производительности, а также понимать границы конфигурации сервера.

Для развертывания Microsoft Edge среды VDI рекомендуется использовать следующие минимальные требования:

- vCPU — 2-4 ядра на пользователя
- ОЗУ — 1 ГБ на пользователя

Для больших и сложных веб-приложений и расширений потребуется больше возможностей памяти и обработки, которые необходимо учитывать при настройке виртуальной среды.

## <a name="microsoft-edge-on-non-persisted-vdi-environments"></a>Microsoft Edge для неохраняемой среды VDI

Многие решения VDI позволяют получать доступ к сохраняемой среде, где пользователям назначается виртуальная среда, которая сохраняется между сеансами, и к несохраняемой среде, где пользователям назначается одна из нескольких доступных машин (возможно, новая машина каждый новый сеанс), при этом пользовательские данные могут синхронизироваться или не синхронизироваться между сеансами.

При использовании неохраняемой среды обычно создается "золотое изображение", которое имеет необходимые приложения и конфигурации, которые будут развернуты на каждом устройстве. Используйте следующие рекомендации в качестве руководства для подготовки золотого изображения.

### <a name="deploy-microsoft-edge"></a>Развертывание Microsoft Edge

Если вы находитесь на Windows 10 версии 1803 и выше, вы уже должны Microsoft Edge в вашей системе. Однако если вы используете старую версию Windows или хотите развернуть другой канал Microsoft Edge, выполните следующие действия:

1. Скачайте пакет Microsoft Edge MSI, который соответствует вашей операционной системе VDI VM из:

    - [Скачивание Microsoft Edge для бизнеса — Майкрософт](https://www.microsoft.com/edge/business/download)

2. Запустите следующую команду, чтобы установить MSI на виртуальный компьютер VDI (VM):

    - `msiexec /i <path_to_msi> /qn /norestart /l*v <install_logfile_name>`

### <a name="disable-automatic-updates"></a>Отключение автоматических обновлений

Для неохраняемой машины лучше отключить автоматические обновления и обновить Microsoft Edge, обновив золотое изображение, чтобы гарантировать отсутствие несоответствий версий в пуле виртуальных машин.

Дополнительные сведения об отключении автоматических обновлений см. в следующих политиках:

- [Переопределение политики обновления по умолчанию](/deployedge/microsoft-edge-update-policies#updatedefault)

- [Переопределение политики обновления](/deployedge/microsoft-edge-update-policies#update)

### <a name="profile-management"></a>Управление профилем

В неохраняемой настройке важно учитывать, что VMs могут не поддерживать состояние пользователя между сеансами или пользователям может быть назначенА VM, которую они никогда не использовали. В этом сценарии VM не имеет данных пользователя.

Microsoft Edge поддерживает несколько методов синхронизации пользовательских данных, чтобы они были доступны независимо от того, как они Microsoft Edge. Два метода : Azure Active Directory (Azure AD) и локальной синхронизации для пользователей AD.

### <a name="azure-ad-sync"></a>Синхронизация Azure AD

Если ваш план Azure AD поддерживает его, Enterprise является самым быстрым и простым методом, обеспечивающим синхронизацию данных Microsoft Edge пользователей на все устройства пользователей. Дополнительные сведения см. в [Microsoft Edge синхронизации предприятия](/deployedge/microsoft-edge-enterprise-sync)

### <a name="on-premise-sync-for-active-directory-users"></a>Локальная синхронизация для пользователей Active Directory

При локальной синхронизации Microsoft Edge сохраняет избранное и параметры пользователя Active Directory в файл, который можно легко перемещать между компьютерами.  

Дополнительные сведения о требованиях и конфигурации см. в локальной синхронизации для [пользователей Active Directory (AD).](/deployedge/microsoft-edge-on-premises-sync)

### <a name="user-profile-redirection"></a>Перенаправление профилей пользователей  

Существует несколько решений для переноса и перенаправления всей папки пользователя для обеспечения сохранения пользовательского контекста в неохраняемой среде. Обратитесь к поставщику VDI, чтобы определить рекомендуемое решение для среды.

Некоторые популярные решения включают следующие параметры:

- [Обзор FSLogix — FSLogix](/fslogix/overview)
- [Настройка управления профилем Citrix](https://support.citrix.com/article/CTX222893)

В некоторых случаях ненужные папки следует исключить из папки пользователя, чтобы сократить время начальной загрузки при входе пользователя на компьютер и переносе его профиля. В этом случае мы рекомендуем исключить следующие папки из резервного копирования, чтобы уменьшить размер.

- %LocalAppData%\Microsoft\Edge\User Data\Default\Cache
- %LocalAppData%\Microsoft\Edge\User Data\Default\Code Cache
- %LocalAppData%\Microsoft\Edge\User Data\Default\JumpListIconsTopSites
- %LocalAppData%\Microsoft\Edge\User Data\Default\JumpListIconsRecentClosed

## <a name="known-issues"></a>Известные проблемы

### <a name="microsoft-edge-crashes-in-older-versions-of-xenapp-and-xendesktop"></a>Сбой Microsoft Edge в старых версиях XenApp и XenDesktop

Эту проблему следует устранить в более новых версиях этих продуктов. Однако если вы столкнулись с этой проблемой в среде, вы можете решить эту проблему, отключив крючки API Citrix для Microsoft Edge, см. статью Как отключить крючки [API Citrix](https://support.citrix.com/article/CTX107825) на основе каждого приложения.

### <a name="degraded-performance-when-rendering-pages-with-exceptionally-large-html-tables"></a>Ухудшение производительности при отрисовки страниц с очень большими таблицами HTML

Известно, что следующие политики Citrix замедляют отрисовку html-страниц с большими таблицами (30 000+ строк).

- Автоматическое отображение клавиатуры
- Удаленное поле со списком

Дополнительные сведения см. в дополнительных сведениях о параметрах [политики мобильных](https://docs.citrix.com/citrix-virtual-apps-desktops/policies/reference/ica-policy-settings/mobile-experience-policy-settings.html) citrix.com. Отключение этих политик должно устранить проблему.

### <a name="windows-account-manager-authorization-scenarios-that-is-azure-sync-fail-in-microsoft-edge-when-run-as-a-citrix-seamless-application"></a>Windows сценарии авторизации диспетчера учетных записей (то есть синхронизация Azure) Microsoft Edge при запуске в качестве бесшовного приложения Citrix

Это известная проблема в Microsoft Edge и других приложениях, которые используют WAM (то есть Office) из-за необходимости Windows компонентов, не инициализированных при работе в "бесшовном" режиме. Попробуйте один из следующих вариантов решения этой проблемы:

- Используйте Microsoft Edge с помощью удаленного рабочего стола в Хост Citrix вместо бесшовного удаленного приложения.
- Вместо этого используйте удаленные приложения Azure Virtual Desktop, которые могут быть смягчаемы для этой проблемы.

## <a name="see-also"></a>См. также

- [Целевая страница Microsoft Edge Enterprise](https://aka.ms/EdgeEnterprise)
- [Виртуальный рабочий стол Azure](https://azure.microsoft.com/services/virtual-desktop/)