---
title: Использование групповых политик для управления расширениями Microsoft Edge
ms.author: aspoddar
author: AndreaLBarr
manager: balajek
ms.date: 06/29/2021
audience: ITPro
ms.topic: conceptual
ms.prod: microsoft-edge
ms.localizationpriority: medium
ms.collection: M365-modern-desktop
description: Использование групповых политик для управления расширениями Microsoft Edge на предприятии
ms.openlocfilehash: a244fd0fc3c8743b9f677d2a6fc1fee835aab822
ms.sourcegitcommit: f0966278011219cbab4590487a8b34cb76a73232
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/22/2021
ms.locfileid: "12107514"
---
# <a name="use-group-policies-to-manage-microsoft-edge-extensions"></a>Использование групповых политик для управления расширениями Microsoft Edge

В этой статье описываются параметры и действия для управления расширениями с помощью групповых политик. Эти параметры предполагают, что вы уже управляете браузером Microsoft Edge для своих пользователей. Если вы еще не настроили управление Microsoft Edge для пользователей, перейдите по ссылке ниже, чтобы сделать это сейчас.

- [Управление расширениями Microsoft Edge на предприятии](/deployedge/microsoft-edge-manage-extensions)

> [!NOTE]
> Эта статья относится к Microsoft Edge версии 77 или более поздней.

## <a name="block-extensions-based-on-their-permissions"></a>Блокировка расширений на основе их разрешений

Вы можете управлять тем, какие расширения пользователи могут устанавливать на основе разрешений, с помощью политики [ExtensionSettings](/deployedge/microsoft-edge-policies#extensionsettings). Если установленному расширению требуется разрешение, которое заблокировано, оно просто не запустится. Расширение не удаляется, а просто отключается.

> [!NOTE]
> Параметр блокировки разрешений можно настроить только в политике параметров расширений.  

Используйте следующие действия в качестве руководства для блокировки расширения.

1. Откройте редактор управления групповыми политиками и выберите **Административные шаблоны > Microsoft Edge > Расширения**, а затем щелкните **Настройки управления расширениями**.
2. Включите политику, а затем введите разрешения, которые нужно разрешить или заблокировать, с помощью сжимаемой строки JSON. На следующем снимке экрана показано, как заблокировать расширение, использующее разрешение "usb".

    :::image type="content" source="media/microsoft-edge-manage-extensions-policies/manage-extensions-gp-block-1.png" alt-text="Настройка групповой политики для блокировки расширения.":::

В следующем примере показан формат JSON для блокировки любого расширения, которое требует использования разрешения "usb", и соответствующая сжатая строка.

### <a name="json-example"></a>Пример JSON

   ```json
   { 
        "*": { 
             "blocked_permissions": ["usb"] 
        } 
   } 
   ```

   ```json
   {"*":{"blocked_permissions":["usb"]}} 
   ```

   > [!NOTE]
   > Чтобы заблокировать все расширения, использующие разрешение, примените звездочку для ИД расширения, как показано в предыдущем примере. Если указать один ИД расширения, политика будет применяться только к этому расширению. Вы можете заблокировать несколько расширений, но они должны быть отдельными записями.

## <a name="prevent-extensions-from-altering-web-pages"></a>Запрет изменения веб-страниц расширениями

Этот параметр не позволяет расширениям читать и изменять данные с конфиденциальных веб-сайтов и доменов. Запрет нежелательных действий выполняется путем блокировки действий, таких как внедрение сценария на веб-сайты, чтение файлов cookie или внесение изменений в веб-запросы. Этот параметр не запрещает установку или удаление расширений пользователями, а только предотвращает изменение указанных веб-сайтов расширениями. 
  
> [!NOTE]
> Параметр разрешенных и заблокированных узлов среды выполнения можно настроить только в политике параметров расширений.  

Вы можете настроить следующие параметры политики ExtensionSettings, чтобы запретить (или разрешить) изменения веб-сайтов или доменов.

- **Runtime_blocked_hosts**. Этот параметр запрещает расширениям вносить изменения или читать данные с указанных вами веб-сайтов.
- **Runtime_allowed_hosts**. Этот параметр позволяет расширениям вносить изменения или читать данные с указанных вами веб-сайтов. Следующий формат используется для указания сайтов в строке JSON в политике.

  ```json
  [http|https|ftp|*]://[subdomain|*].[hostname|*].[eTLD|*] [http|https|ftp|*],
  ```

  > [!NOTE]
  > `[hostname|*], and [eTLD|*]` — обязательные разделы, а раздел `[subdomain|*]` — необязательный.

В следующей таблице показаны примеры допустимых шаблонов узлов и шаблонов соответствий.

|Допустимые шаблоны узлов|Соответствуют|Не соответствуют|
|--|--|--|
|  `*://*.example.*` | `http://example.com`<br>`https://test.example.co.uk`   | `https://example.microsoft.com`<br>`http://example.microsoft.co.uk`  |
| `http://example.*` | `http://example.com`<br>`http://example.ly` | `https://example.com`<br>`http://test.example.com`   |
| `http://example.com`   | `http://example.com` | `https://example.com`<br>`http://test.example.co.uk` |
| `*://*`   | Все URL-адреса  |   |

Чтобы заблокировать или разрешить расширениям доступ к веб-сайту или домену, используйте следующие действия в качестве руководства.

1. Откройте редактор управления групповыми политиками и перейдите в раздел **Административные шаблоны > Microsoft Edge > Расширения**, а затем выберите **Настройки управления расширениями**.  
2. Включите политику, а затем введите разрешения, которые нужно разрешить или заблокировать, сжав разрешения в одной строке JSON.

В следующих примерах показано, как блокировать расширения в имени узла и в одном домене.

### <a name="json-example-to-block-hostname"></a>Пример JSON для блокировки имени узла

В этом примере показан формат JSON и сжатая строка JSON с целью заблокировать любому расширению доступ к имени узла `www.microsoft.com`.

```json
{ 
    "*":{ 
            "runtime_blocked_hosts":["www.microsoft.com"] 
    } 
} 
```

```json
{"*":{"runtime_blocked_hosts":["www.microsoft.com"]}} 
```

> [!NOTE]
> Чтобы заблокировать доступ к веб-странице для всех расширений, используйте звездочку для ИД расширения, как показано в предыдущем примере.  Если вместо звездочки указать один ИД расширения, политика будет применяться только к этому расширению. Вы можете заблокировать несколько расширений, но они должны быть отдельными записями.

### <a name="json-example-to-block-extensions-on-same-domain"></a>Пример JSON для блокировки расширений в одном домене

В этом примере показан формат JSON и сжатая строка JSON с целью заблокировать запуск определенных расширений в одном домене "importantwebsite".

```json
{ 
    "aapbdbdomjkkjkaonfhkkikfgjllcleb": { 
        "runtime_blocked_hosts": ["*://*.importantwebsite"] 
    }, 
    "bfbmjmiodbnnpllbbbfblcplfjjepjdn": { 
        "runtime_blocked_hosts": ["*://*.importantwebsite"] 
    } 
} 
```

```json
{"aapbdbdomjkkjkaonfhkkikfgjllcleb": {"runtime_blocked_hosts": ["*://,*.importantwebsite"]},"bfbmjmiodbnnpllbbbfblcplfjjepjdn": {"runtime_blocked_hosts": ["*://*.importantwebsite"]}} 
```

## <a name="allow-or-block-extensions-in-group-policy"></a>Разрешение или блокировка расширений в групповой политике

Вы можете использовать политики [ExtensionInstallBlocklist](/DeployEdge/microsoft-edge-policies#extensioninstallblocklist) и [ExtensionInstallAllowlist](/DeployEdge/microsoft-edge-policies#extensioninstallallowlist), чтобы управлять тем, какие расширения заблокированы или разрешены. Используйте следующие действия в качестве руководства, чтобы разрешить все расширения, за исключением тех, которые необходимо заблокировать.

1. Откройте редактор управления групповыми политиками и перейдите в раздел **Административные шаблоны > Microsoft Edge > Расширения**, а затем выберите **Управление расширениями, которые нельзя устанавливать**.
2. Выберите **Включено**.
3. Щелкните **Показать**.
4. Введите идентификатор приложения для расширений, которые необходимо заблокировать. При добавлении нескольких идентификаторов приложений используйте отдельную строку для каждого идентификатора.
5. Чтобы заблокировать все расширения, введите **\*** в политику, чтобы запретить установку любых расширений. Вы можете использовать это в сочетании с политикой "Разрешить установку определенных расширений", чтобы разрешить установку только определенных расширений. На следующем снимке экрана показано расширение, которое будет заблокировано на основе указанного идентификатора приложения.

   :::image type="content" source="media/microsoft-edge-manage-extensions-policies/manage-extensions-gp-block-2.png" alt-text="Чтобы заблокировать расширение, используйте идентификатор приложения.":::

   > [!TIP]
   > Если вы не можете найти идентификатор приложения для расширения, посмотрите на расширение на веб-сайте надстроек Microsoft Edge. Найдите определенное расширение, и вы увидите идентификатор приложения в конце URL-адреса в омнибоксе.

> [!NOTE]
> Вы можете добавить расширение в список заблокированных, который уже установлен на компьютере пользователя. Это отключит расширение и запретит пользователю повторно включить его. Оно не будет удалено, а просто будет отключено.

## <a name="force-install-an-extension"></a>Принудительная установка расширения

Чтобы управлять блокировкой и разрешением расширений, используйте политику [ExtensionInstallForcelist](/DeployEdge/microsoft-edge-policies#extensioninstallforcelist). Используйте следующие действия в качестве руководства для принудительной установки расширения.

1. В редакторе групповых политик перейдите в раздел **Административные шаблоны > Microsoft Edge > Расширения**, а затем выберите **Определение автоматически устанавливаемых расширений**.
2. Выберите **Включено**.  
3. Щелкните **Показать**.
4. Введите идентификатор приложения или идентификаторы для расширения или расширений, которые необходимо установить принудительно.  

Расширение будет установлено автоматически без необходимости взаимодействия с пользователем. Пользователь также не сможет удалить или отключить расширение. Этот параметр переопределяет любую включенную политику списка блокировки.

> [!NOTE]
> Для расширений из интернет-магазина Chrome используйте строку `pckdojakecnhhplcgfflhndiffaohfah;https://clients2.google.com/service/update2/crx`.
> Для самостоятельного размещения расширений используйте шаблон extension_id;update_url, update_url указывает на расположение XML-файла манифеста обновления. Например, `mfjlfjaknfckffgjgmdfeheeealceoak;https://file_location.azurewebsites.net/picture_of_the_day.xml`.

## <a name="block-extensions-from-a-specific-store-or-update-url"></a>Блокировка расширений из определенного магазина или URL-адреса обновления

Чтобы заблокировать расширения из определенного магазина или URL-адреса, необходимо заблокировать *update_url* для этого магазина с помощью политики [ExtensionSettings](/deployedge/microsoft-edge-policies#extensionsettings).

Используйте следующие действия в качестве руководства для блокировки расширений из определенного магазина или URL-адреса.

1. Откройте редактор управления групповыми политиками и перейдите в раздел **Административные шаблоны > Microsoft Edge > Расширения**, а затем выберите **Настройки управления расширениями**.  
2. Включите политику, а затем введите разрешения, которые нужно разрешить или заблокировать, сжав их в одной строке JSON.

В следующем примере показан формат JSON и сжатая строка JSON для блокировки из интернет-магазина Chrome с помощью URL-адреса обновления (`https://clients2.google.com/service/update2/crx`).

### <a name="json-example-for-blocking-on-update-url"></a>Пример JSON для блокировки по URL-адресу обновления

```json
{ 
"update_url:https://clients2.google.com/service/update2/crx":{ 
                                                             " installation_mode":"blocked" 
                                                             } 
} 
```

```json
{"update_url:https://clients2.google.com/service/update2/crx":{"installation_mode":"blocked"}} 
```

> [!NOTE]
> Вы по-прежнему можете использовать **ExtensionInstallForceList** и **ExtensionInstallAllowList**, чтобы разрешить или принудить установить определенные расширения, даже если магазин заблокирован с помощью формата JSON в предыдущем примере.

## <a name="see-also"></a>См. также

- [Управление расширениями Microsoft Edge на предприятии](microsoft-edge-manage-extensions.md)
- [Создание интернет-магазина для размещения расширений Microsoft Edge](microsoft-edge-manage-extensions-webstore.md)
- [Справочное руководство по политике ExtensionSettings](microsoft-edge-manage-extensions-ref-guide.md)
- [Вопросы и ответы по расширениям Microsoft Edge](microsoft-edge-manage-extensions-faq.md)
- [Целевая страница Microsoft Edge Enterprise](https://aka.ms/EdgeEnterprise)
